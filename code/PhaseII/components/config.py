# deployment
DSO_ADDRESS = 'tcp://127.0.0.1:10001'
DATA_PATH = "data/"
TRANSACTION_GAS = "0x100000000"
BYTECODE = "0x606060405260016000806101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055506161a8600060086101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550614e20600060106101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055506000600360006101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055506000600560006101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055506000600760006101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055506000600760086101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600760106101000a81548167ffffffffffffffff021916908360070b67ffffffffffffffff160217905550341561018257600080fd5b611bb2806101916000396000f300606060405260043610610078576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063359bc19e1461007d5780638375ced0146100aa5780639e52b99f14610110578063a543c01814610189578063c37df44e146101c9578063f57574211461022f575b600080fd5b341561008857600080fd5b6100a8600480803567ffffffffffffffff1690602001909190505061026c565b005b34156100b557600080fd5b61010e600480803567ffffffffffffffff1690602001909190803567ffffffffffffffff1690602001909190803567ffffffffffffffff1690602001909190803567ffffffffffffffff169060200190919050506106f2565b005b341561011b57600080fd5b610187600480803567ffffffffffffffff1690602001909190803567ffffffffffffffff1690602001909190803567ffffffffffffffff1690602001909190803567ffffffffffffffff1690602001909190803567ffffffffffffffff16906020019091905050610961565b005b341561019457600080fd5b6101c7600480803567ffffffffffffffff1690602001909190803567ffffffffffffffff169060200190919050506116e7565b005b34156101d457600080fd5b61022d600480803567ffffffffffffffff1690602001909190803567ffffffffffffffff1690602001909190803567ffffffffffffffff1690602001909190803567ffffffffffffffff169060200190919050506117a0565b005b341561023a57600080fd5b610242611a0f565b604051808267ffffffffffffffff1667ffffffffffffffff16815260200191505060405180910390f35b600080600080600760089054906101000a900467ffffffffffffffff1667ffffffffffffffff168567ffffffffffffffff161415156102aa57600080fd5b7fb7c84ee8cc759028af3805503fc9e6c5e3c93ed7a914a235e0a356d6521dc6af85600760109054906101000a900460070b604051808367ffffffffffffffff1667ffffffffffffffff1681526020018260070b60070b81526020019250505060405180910390a16000600760109054906101000a900460070b60070b1215156106a45760066000600760109054906101000a900460070b67ffffffffffffffff1667ffffffffffffffff1681526020019081526020016000209350600092505b8360010160009054906101000a900467ffffffffffffffff1667ffffffffffffffff168367ffffffffffffffff161015610657578360000160008467ffffffffffffffff1667ffffffffffffffff1681526020019081526020016000209150600760089054906101000a900467ffffffffffffffff1667ffffffffffffffff168260000160109054906101000a900467ffffffffffffffff1667ffffffffffffffff16141561064a576000809054906101000a900467ffffffffffffffff168260000160189054906101000a900467ffffffffffffffff1602905080600460008460000160009054906101000a900467ffffffffffffffff1667ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060000160188282829054906101000a900467ffffffffffffffff160392506101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555080600260008460000160089054906101000a900467ffffffffffffffff1667ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060000160188282829054906101000a900467ffffffffffffffff160392506101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055507f88e5e80941911913e9fc1294878a680b5990f203f56fb29c6e39bbd98e5d2b128260000160009054906101000a900467ffffffffffffffff168360000160089054906101000a900467ffffffffffffffff168460000160109054906101000a900467ffffffffffffffff168560000160189054906101000a900467ffffffffffffffff16604051808567ffffffffffffffff1667ffffffffffffffff1681526020018467ffffffffffffffff1667ffffffffffffffff1681526020018367ffffffffffffffff1667ffffffffffffffff1681526020018267ffffffffffffffff1667ffffffffffffffff16815260200194505050505060405180910390a15b828060010193505061036b565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600760106101000a81548167ffffffffffffffff021916908360070b67ffffffffffffffff1602179055505b6007600881819054906101000a900467ffffffffffffffff168092919060010191906101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550505050505050565b8167ffffffffffffffff168367ffffffffffffffff161115151561071557600080fd5b7fb0f09a7c285d588112f109144f5e334575b9cd0a6b1ec1c0a5ca6949ab815000600560009054906101000a900467ffffffffffffffff1685858585604051808667ffffffffffffffff1667ffffffffffffffff1681526020018567ffffffffffffffff1667ffffffffffffffff1681526020018467ffffffffffffffff1667ffffffffffffffff1681526020018367ffffffffffffffff1667ffffffffffffffff1681526020018267ffffffffffffffff1667ffffffffffffffff1681526020019550505050505060405180910390a16080604051908101604052808567ffffffffffffffff1681526020018467ffffffffffffffff1681526020018367ffffffffffffffff1681526020018267ffffffffffffffff16815250600460006005600081819054906101000a900467ffffffffffffffff168092919060010191906101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555067ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060008201518160000160006101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555060208201518160000160086101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555060408201518160000160106101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555060608201518160000160186101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555090505050505050565b600080600080600760009054906101000a900467ffffffffffffffff1667ffffffffffffffff168967ffffffffffffffff1610151561099f57600080fd5b600560009054906101000a900467ffffffffffffffff1667ffffffffffffffff168867ffffffffffffffff161015156109d757600080fd5b600360009054906101000a900467ffffffffffffffff1667ffffffffffffffff168767ffffffffffffffff16101515610a0f57600080fd5b600760089054906101000a900467ffffffffffffffff1667ffffffffffffffff168667ffffffffffffffff1610151515610a4857600080fd5b600460008967ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060000160089054906101000a900467ffffffffffffffff1667ffffffffffffffff168667ffffffffffffffff1610151515610aa957600080fd5b600460008967ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060000160109054906101000a900467ffffffffffffffff1667ffffffffffffffff168667ffffffffffffffff1611151515610b0a57600080fd5b600260008867ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060000160089054906101000a900467ffffffffffffffff1667ffffffffffffffff168667ffffffffffffffff1610151515610b6b57600080fd5b600260008867ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060000160109054906101000a900467ffffffffffffffff1667ffffffffffffffff168667ffffffffffffffff1611151515610bcc57600080fd5b600660008a67ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002093506000809054906101000a900467ffffffffffffffff168502925060016000600460008b67ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060000160009054906101000a900467ffffffffffffffff1667ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060009054906101000a900467ffffffffffffffff16915060016000600260008a67ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060000160009054906101000a900467ffffffffffffffff1667ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060009054906101000a900467ffffffffffffffff169050828460020160008a67ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060008282829054906101000a900467ffffffffffffffff160192506101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550828460030160008967ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060008282829054906101000a900467ffffffffffffffff160192506101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550848460040160008467ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060008867ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060008282829054906101000a900467ffffffffffffffff160192506101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550848460050160008367ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060008867ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060008282829054906101000a900467ffffffffffffffff160192506101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550600460008967ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060000160189054906101000a900467ffffffffffffffff1667ffffffffffffffff168460020160008a67ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060009054906101000a900467ffffffffffffffff1667ffffffffffffffff1611151515610f9357600080fd5b600260008867ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060000160189054906101000a900467ffffffffffffffff1667ffffffffffffffff168460030160008967ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060009054906101000a900467ffffffffffffffff1667ffffffffffffffff161115151561103157600080fd5b600060089054906101000a900467ffffffffffffffff1667ffffffffffffffff168460040160008467ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060008867ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060009054906101000a900467ffffffffffffffff1667ffffffffffffffff16111515156110cc57600080fd5b600060089054906101000a900467ffffffffffffffff1667ffffffffffffffff168460050160008367ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060008867ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060009054906101000a900467ffffffffffffffff1667ffffffffffffffff161115151561116757600080fd5b600060109054906101000a900467ffffffffffffffff1667ffffffffffffffff168460050160008467ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060008867ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060009054906101000a900467ffffffffffffffff168560040160008567ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060008967ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060009054906101000a900467ffffffffffffffff160367ffffffffffffffff161115151561126657600080fd5b600060109054906101000a900467ffffffffffffffff1667ffffffffffffffff168460050160008367ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060008867ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060009054906101000a900467ffffffffffffffff168560050160008467ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060008967ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060009054906101000a900467ffffffffffffffff160367ffffffffffffffff161115151561136557600080fd5b6080604051908101604052808967ffffffffffffffff1681526020018867ffffffffffffffff1681526020018767ffffffffffffffff1681526020018667ffffffffffffffff1681525084600001600086600101600081819054906101000a900467ffffffffffffffff168092919060010191906101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555067ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060008201518160000160006101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555060208201518160000160086101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555060408201518160000160106101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555060608201518160000160186101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550905050848460010160088282829054906101000a900467ffffffffffffffff160192506101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055506000600760109054906101000a900460070b60070b12806115bb575060066000600760109054906101000a900460070b67ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060010160089054906101000a900467ffffffffffffffff1667ffffffffffffffff168460010160089054906101000a900467ffffffffffffffff1667ffffffffffffffff16115b156115ed5788600760106101000a81548167ffffffffffffffff021916908360070b67ffffffffffffffff1602179055505b7f14b0a171ccbb9aa32b52104e2c28dd4f0ee751085858ad203c4eb8a8f2bbf77889898989898960010160089054906101000a900467ffffffffffffffff16604051808767ffffffffffffffff1667ffffffffffffffff1681526020018667ffffffffffffffff1667ffffffffffffffff1681526020018567ffffffffffffffff1667ffffffffffffffff1681526020018467ffffffffffffffff1667ffffffffffffffff1681526020018367ffffffffffffffff1667ffffffffffffffff1681526020018267ffffffffffffffff1667ffffffffffffffff168152602001965050505050505060405180910390a1505050505050505050565b80600160008467ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060006101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055507f07dd55c337918bf526aa38feaf559653854818d1399edf67d1dc230912123a3c8282604051808367ffffffffffffffff1667ffffffffffffffff1681526020018267ffffffffffffffff1667ffffffffffffffff1681526020019250505060405180910390a15050565b8167ffffffffffffffff168367ffffffffffffffff16111515156117c357600080fd5b7f47be5dd1d9aeb3db0a9753c2d318b0140db2a5524856bd0b17bd92b4b1da8ede600360009054906101000a900467ffffffffffffffff1685858585604051808667ffffffffffffffff1667ffffffffffffffff1681526020018567ffffffffffffffff1667ffffffffffffffff1681526020018467ffffffffffffffff1667ffffffffffffffff1681526020018367ffffffffffffffff1667ffffffffffffffff1681526020018267ffffffffffffffff1667ffffffffffffffff1681526020019550505050505060405180910390a16080604051908101604052808567ffffffffffffffff1681526020018467ffffffffffffffff1681526020018367ffffffffffffffff1681526020018267ffffffffffffffff16815250600260006003600081819054906101000a900467ffffffffffffffff168092919060010191906101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555067ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060008201518160000160006101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555060208201518160000160086101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555060408201518160000160106101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555060608201518160000160186101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555090505050505050565b60007f25346e016c4cdf007ed72a549d9e82213a82d4f742035bfe48286948ed7ab4e7600760009054906101000a900467ffffffffffffffff16604051808267ffffffffffffffff1667ffffffffffffffff16815260200191505060405180910390a16040805190810160405280600067ffffffffffffffff168152602001600067ffffffffffffffff1681525060066000600760009054906101000a900467ffffffffffffffff1667ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002060008201518160010160006101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555060208201518160010160086101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055509050506007600081819054906101000a900467ffffffffffffffff168092919060010191906101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055509050905600a165627a7a7230582056a3fa10be61604200c753641992cbaac54e210833da07868071750c26d128320029"
SOLVING_INTERVAL = 5 # seconds (how often MatchingSolverWrapper tries to solve the energy trading problem) 
INTERVAL_LENGTH = 120 # seconds (how often the components move onto the next time interval)
PREDICTION_WINDOW = 5 # how many time intervals ahead SmartHomeTraderWrapper trade (i.e., an offer is posted if offer['start'] <= time_interval + PREDICTION_WINDOW)
END_INTERVAL = 100 # last time interval


# model
FEEDERS = []
PROSUMERS = []
PROSUMER_FEEDER = {}
for (feeder, num_prosumers) in [(1, 9), (2, 17), (3, 5), (4, 13), (5, 8), (6, 1), (7, 10), (8, 17), (9, 5), (10, 13), (11, 4)]:
  FEEDERS.append(feeder)
  for prosumer in range(1, num_prosumers + 1):
    prosumer_id = feeder * 100 + prosumer
    PROSUMERS.append(prosumer_id)
    PROSUMER_FEEDER[prosumer_id] = feeder

from Microgrid import Microgrid
MICROGRID = Microgrid(
  interval_length=1.0, 
  C_ext=20000, 
  C_int=25000, 
  feeders=FEEDERS, 
  prosumer_feeder=PROSUMER_FEEDER)
  

